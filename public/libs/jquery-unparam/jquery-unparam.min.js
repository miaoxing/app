!function(e){e.unparam=function(e){function r(e,r){var t,n,c,l,h,i,a,s,f,o,u,p,g,d,A,b=String(e).replace(/^&/,"").replace(/&$/,"").split("&"),x=b.length,m=function(e){return decodeURIComponent(e.replace(/\+/g,"%20"))};for(r||(r=this.window),t=0;x>t;t++){for(o=b[t].split("="),u=m(o[0]),p=o.length<2?"":m(o[1]);" "===u.charAt(0);)u=u.slice(1);if(u.indexOf("\x00")>-1&&(u=u.slice(0,u.indexOf("\x00"))),u&&"["!==u.charAt(0)){for(d=[],g=0,n=0;n<u.length;n++)if("["!==u.charAt(n)||g){if("]"===u.charAt(n)&&g&&(d.length||d.push(u.slice(0,g-1)),d.push(u.substr(g,n-g)),g=0,"["!==u.charAt(n+1)))break}else g=n+1;for(d.length||(d=[u]),n=0;n<d[0].length&&(f=d[0].charAt(n),(" "===f||"."===f||"["===f)&&(d[0]=d[0].substr(0,n)+"_"+d[0].substr(n+1)),"["!==f);n++);for(i=r,n=0,A=d.length;A>n;n++)if(u=d[n].replace(/^['"]/,"").replace(/['"]$/,""),a=n!==d.length-1,h=i,""!==u&&" "!==u||0===n)i[u]===s&&(i[u]={}),i=i[u];else{c=-1;for(l in i)i.hasOwnProperty(l)&&+l>c&&l.match(/^\d+$/g)&&(c=+l);u=c+1}h[u]=p}}}var t={};return r(e,t),t}}(jQuery);
