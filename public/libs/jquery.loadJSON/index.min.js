!function(e){e.fn.loadJSON=function(t,r){function a(t){try{e.isFunction(e(t).selectmenu)&&e(t).selectmenu("refresh")}catch(r){try{}catch(r){}}}function n(t){try{e.isFunction(e(t).checkboxradio)&&e(t).checkboxradio("refresh")}catch(r){}}function l(r){var n=jQuery.makeArray(r),l=e(n[n.length-1]).clone(!0),o=t.length,c=0;c=t.length-1;var s=0;for(s=0;o>s;s++){var i=l.clone(!0).insertAfter(n[n.length-1]);e(i).attr("value",t[c].value),e(i).text(t[c].text),t[c].selected&&e(i).attr("selected",!0),c--}a(r)}function o(r,o,c){var s=r.type||r.tagName;if(null!=s||(s=r[0].type||r[0].tagName,null!=s))switch(s=s.toLowerCase()){case"radio":o.toString().toLowerCase()==r.value.toLowerCase()&&(e(r).attr("checked","checked"),n(r));break;case"checkbox":o&&(e(r).prop("checked",!0),n(r));break;case"option":e(r).attr("value",o.value),e(r).text(o.text),o.selected&&e(r).attr("selected",!0);break;case"select-multiple":var i=r[0];if((null==r[0].options||"undefined"==typeof r[0].options)&&(i=r),i.options.length>1){for(var u=o.constructor==Array?o:[o],h=0;h<i.options.length;h++)for(var f=0;f<u.length;f++)i.options[h].selected|=i.options[h].value==u[f];a(r)}else l(r,o,c);break;case"select":case"select-one":"string"==typeof o?(e(r).attr("value",o),a(r)):l(r,o,c);break;case"text":case"hidden":case"tel":e(r).attr("value",o);break;case"a":var d=e(r).attr("href"),p=d.indexOf("#");p>1e6?d=d.substr(0,p)+"&"+c+"="+o+d.substr(p):(p=d.indexOf("?"),p>0?d+="&"+c+"="+o:d=d+"?"+c+"="+o),e(r).attr("href",d);break;case"img":if("String"==t.constructor){var p=o.indexOf("$"),g="",v="";if(p>0)g=o.substring(0,p),v=o.substring(p+1);else{g=o;var y=o.lastIndexOf("/")+1,b=o.indexOf(".");v=o.substring(y,b)}e(r).attr("src",g),e(r).attr("alt",v)}else e(r).attr("src",t.src),e(r).attr("alt",t.alt),e(r).attr("title",t.title);break;case"textarea":case"submit":case"button":default:try{e(r).html(o.toString())}catch(m){}}}function c(t,r,a){if(void 0==t);else if(t.constructor==Object){r.length>=1&&"OPTION"==r[0].tagName&&o(r[0],t,a);for(var n in t)if(null!=n&&"undefined"!=typeof n){var l=jQuery.makeArray(jQuery("."+n,r)).length>0?jQuery("."+n,r):jQuery("#"+n,r).length>0?jQuery("#"+n,r):jQuery('[name="'+n+'"]',r).length>0?jQuery('[name="'+n+'"]',r):jQuery('[rel="'+n+'"]');0!=l.length&&c(t[n],jQuery(l,r),n)}}else if(t.constructor==Array)if("checkbox"==r[0].type)r.filter(function(){return e.inArray(this.value,t)>=0}).prop("checked",!0);else{if(1==r.length&&("select"==r.type||"select-one"==r.type||"select-multiple"==r.type||"select"==r[0].type||"select-one"==r[0].type||"select-multiple"==r[0].type))return void o(r,t,a);var s=e(r).children("[rel]");if(s.length>0)s.each(function(){var r=e(this).attr("rel");c(t[r],e(this),a)});else{var i=jQuery.makeArray(r),u=e(i[i.length-1]).clone(!0),h=t.length,f=0;if(null==r[0]||null!=r[0]&&"OPTION"!=r[0].tagName){var d=0;for(d=0;d<i.length;d++){if(f<t.length){var p=e(r).eq(d);c(t[f],p,a)}f++}var h=t.length-i.length}f=t.length-1;var g=0;for(g=0;h>g;g++){var v=u.clone(!0).insertAfter(i[i.length-1]);c(t[f],v,a),f--}}}else{if(r.length>0){var f=0;for(f=0;f<r.length;f++)o(r[f],t,a)}else o(r,t,a)}}function s(e){var t=e.html();e.data("loadJSON-template",t)}var i={onLoading:function(){},onLoaded:function(){},mobile:!1};return properties=e.extend(i,r),this.each(function(){if(t.constructor==String)if("{"==t.charAt(0)||"["==t.charAt(0)){var r=e.parseJSON(t);s(e(this)),properties.onLoading(),c(r,this),properties.onLoaded()}else{var a=e(this);e.ajax({url:t,success:function(e){a.loadJSON(e,properties)},cache:!1,dataType:"json"})}else s(e(this)),properties.onLoading(),c(t,this),properties.onLoaded()})}}(jQuery);
